@page "/products"
@using ShopOnline.Models.DataTransferObjects;

@if(Products.Count() == 0)
{
    <h3>@loadingMessage</h3>
}
else
{
    <h3 class="mb-5">Products</h3>

    List<ProductDto> productRowList = new();
    int productCount = Products.Count();   

    @for (int i = 0; i < productCount; i++)
    {
        productRowList = Products
            .Skip(i * itemsPerRow)
            .Take(itemsPerRow)
            .ToList();

        <div class="row mt-3">          
            <DisplayProductsRow Products="@productRowList"/>
        </div>
    }
}
